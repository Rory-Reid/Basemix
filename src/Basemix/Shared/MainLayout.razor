@inherits LayoutComponentBase
@inject IJSRuntime JsRuntime

@* Required *@
<MudThemeProvider Theme="BasemixTheme.Instance" />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

<MudLayout>
  <MudAppBar Elevation="1" Color="Color.Primary">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
    <MudText Typo="Typo.h5" Class="ml-3">Basemix 🐀</MudText>
    @* <MudSpacer /> *@
    @* <a href="https://nfrs.org/forum/viewtopic.php?t=29536" target="_blank"><MudIconButton Icon="@Icons.Material.Filled.Feedback" Color="Color.Inherit" Edge="Edge.End" /></a> *@
  </MudAppBar>
  <MudDrawer @bind-Open="DrawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
    <MyNavMenu />
  </MudDrawer>
  <MudMainContent>
    <BasemixErrorBoundary>
      @Body
    </BasemixErrorBoundary>
  </MudMainContent>
</MudLayout>

@code
{
  bool DrawerOpen { get; set; } = false;
  
  void DrawerToggle()
  {
    DrawerOpen = !DrawerOpen;
  }
  
  
}
